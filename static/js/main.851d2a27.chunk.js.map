{"version":3,"sources":["api/index.ts","redux/reducers/postsReducer.ts","redux/store.ts","components/PostList/PostsList.tsx","pages/CreatePost/index.ts","pages/CreatePost/CreatePost.tsx","routes.tsx","pages/Layout/Layout.tsx","App.tsx","index.tsx"],"names":["instance","axios","create","baseURL","makeRequest","method","url","params","request","postApi","removePost","postId","getPosts","addPost","newPost","initialState","posts","post","selectedPostId","userId","SET_POSTS","SET_POST","setPost","type","loadPosts","dispatch","then","response","data","rootReducer","combineReducers","state","action","getPostsSelector","store","createStore","applyMiddleware","thunk","columns","field","headerName","width","PostsList","useSelector","useDispatch","useEffect","style","height","rows","pageSize","connect","addNewPost","a","console","log","props","className","initialValues","title","body","validate","values","errors","onSubmit","setSubmitting","touched","handleChange","handleBlur","handleSubmit","isSubmitting","name","onChange","onBlur","value","disabled","routes","page","path","useStyles","makeStyles","background","drawer","drawerPaper","root","display","active","Layout","children","classes","history","useHistory","menuItems","text","icon","SubjectOutlined","color","AddCircleOutlineOutlined","Drawer","variant","anchor","paper","Typography","List","map","item","ListItem","button","onClick","push","ListItemIcon","ListItemText","primary","App","exact","Root","StrictMode","ReactDOM","render","document","getElementById"],"mappings":"sVAEaA,E,OAAWC,EAAMC,OAAO,CACnCC,QAAS,0CAKLC,EAAc,SAACC,EAAeC,EAAYC,GAC9C,OAAOP,EAASK,GAAT,UAAoBC,GAAOC,IAG9BC,EAAU,SAACH,EAAeC,GAC9B,OAAO,eAACC,EAAD,uDAAU,GAAV,OAAiBH,EAAYC,EAAQC,EAAKC,KAGtCE,EAAU,CACrBC,WAAY,SAACC,GAAD,OAAmBH,EAAQ,SAAD,iBAAqBG,GAA5BH,IAC/BI,SAAUJ,EAAQ,MAAO,UACzBK,QAAS,SAACC,GAAD,OAAmBN,EAAQ,OAAQ,SAAhBA,CAA0BM,KCNlDC,EAA0B,CAC9BC,MAAO,GACPC,KAAM,KACNC,eAAgB,EAChBC,OAAQ,GAGJC,EAAY,YACZC,EAAW,WAGJC,EAAU,SAACL,GAAD,MAAiB,CAAEM,KAAMF,EAAUJ,SAE7CO,EAAY,kBACpB,SAACC,GACJhB,EAAQG,WACLc,MAAK,SAACC,GANa,IAACX,EAOnBS,GAPmBT,EAODW,EAASC,KAPW,CAAEL,KAAMH,EAAWJ,gBCnBzDa,EAAcC,YAAgB,CAClCd,MDyC0B,WAA8C,IAA7Ce,EAA4C,uDAApChB,EAAciB,EAAsB,uCACvE,OAAQA,EAAOT,MACb,KAAKH,EACH,OAAO,2BACFW,GADL,IAEEf,MAAOgB,EAAOhB,QAGlB,KAAKK,EACH,OAAO,2BACFU,GADL,IAEEd,KAAMe,EAAOf,OAGjB,QACE,OAAOc,MCpDAE,EAAmB,SAACF,GAAD,OAAsBA,EAAMf,MAAMA,OAGrDkB,EAAQC,YACnBN,EACAO,YAAgBC,M,OCRZC,EAAU,CACd,CAAEC,MAAO,SAAUC,WAAY,UAC/B,CAAED,MAAO,QAASC,WAAY,QAASC,MAAO,KAC9C,CAAEF,MAAO,OAAQC,WAAY,OAAQC,MAAO,MAGjCC,EAAsB,WACjC,IAAM1B,EAAgB2B,YAAYV,GAC5BR,EAAWmB,cAMjB,OAJAC,qBAAU,WACRpB,EAASD,OACR,CAACC,IAGF,qBAAKqB,MAAO,CAAEC,OAAQ,IAAKN,MAAO,QAAlC,SACE,cAAC,IAAD,CACEO,KAAMhC,EACNsB,QAASA,EACTW,SAAU,Q,SCrBHC,G,OAAAA,YAAQ,KAAM,CAAEC,WH8BL,SAAClC,GAAD,8CAC4B,WAAMQ,GAAN,SAAA2B,EAAA,+EAE5C3C,EAAQI,QAAQI,GAF4B,OAIlDQ,EAASH,EAAQL,IAJiC,+CAOlDoC,QAAQC,IAAI,WAAZ,MAPkD,wDAD5B,wDG9BXJ,ECKqB,SAACK,GACnC,OACE,sBAAKC,UAAU,SAAf,UACE,oBAAIA,UAAU,gBAAd,2BACA,cAAC,IAAD,CACEC,cAAe,CAAEC,MAAO,GAAIC,KAAM,IAClCC,SAAU,SAAAC,GACR,IAAMC,EAAiB,GAMvB,OAJKD,EAAOH,QACVI,EAAOJ,MAAQ,YAGVI,GAETC,SAAU,SAACF,EAAD,GAAgC,IAArBG,EAAoB,EAApBA,cACnBT,EAAMJ,WAAWU,GACjBG,GAAc,IAblB,SAgBG,gBACCH,EADD,EACCA,OACAC,EAFD,EAECA,OACAG,EAHD,EAGCA,QACAC,EAJD,EAICA,aACAC,EALD,EAKCA,WACAC,EAND,EAMCA,aACAC,EAPD,EAOCA,aAPD,OASC,uBAAMN,SAAUK,EAAcZ,UAAU,eAAxC,UACE,uBACEjC,KAAK,OACL+C,KAAK,QACLC,SAAUL,EACVM,OAAQL,EACRM,MAAOZ,EAAOH,MACdF,UAAU,kBAEXM,EAAOJ,OAASO,EAAQP,OAASI,EAAOJ,MACzC,uBACEnC,KAAK,OACL+C,KAAK,OACLC,SAAUL,EACVM,OAAQL,EACRM,MAAOZ,EAAOF,KACdH,UAAU,kBAEXM,EAAOH,MAAQM,EAAQN,MAAQG,EAAOH,KACvC,wBACEpC,KAAK,SACLmD,SAAUL,EACVb,UAAU,iBAHZ,iCCrDCmB,EAAS,CACpB,CACEC,KAAM,cAAC,EAAD,IACNC,KAAM,KAER,CACED,KAAM,cAAC,EAAD,IACNC,KAAM,Y,gFCDJC,EAAYC,YAAW,CAC3BH,KAAM,CACJI,WAAY,UACZvC,MAAO,QAETwC,OAAQ,CACNxC,MARgB,KAUlByC,YAAa,CACXzC,MAXgB,KAalB0C,KAAM,CACJC,QAAS,QAEXC,OAAQ,CACNL,WAAY,aAQHM,EAA0B,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAClCC,EAAUV,IACVW,EAAUC,cAEVC,EAAY,CAChB,CACEC,KAAM,QACNC,KAAM,cAACC,EAAA,EAAD,CAAiBC,MAAM,cAC7BlB,KAAM,KAER,CACEe,KAAM,cACNC,KAAM,cAACG,EAAA,EAAD,CAA0BD,MAAM,cACtClB,KAAM,YAIV,OACE,sBAAKrB,UAAWgC,EAAQL,KAAxB,UAEE,eAACc,EAAA,EAAD,CACEzC,UAAWgC,EAAQP,OACnBiB,QAAQ,YACRC,OAAO,OACPX,QAAS,CAAEY,MAAOZ,EAAQN,aAJ5B,UAME,8BACE,cAACmB,EAAA,EAAD,CAAYH,QAAQ,KAApB,oBAKF,cAACI,EAAA,EAAD,UACGX,EAAUY,KAAI,SAAAC,GAAI,OACjB,eAACC,EAAA,EAAD,CACEC,QAAM,EAENC,QAAS,kBAAMlB,EAAQmB,KAAKJ,EAAK3B,OAHnC,UAKE,cAACgC,EAAA,EAAD,UAAeL,EAAKX,OACpB,cAACiB,EAAA,EAAD,CAAcC,QAASP,EAAKZ,SAJvBY,EAAKZ,cAUlB,qBAAKpC,UAAWgC,EAAQZ,KAAxB,SACGW,QC3EIyB,EAAgB,WAC3B,OACE,cAAC,IAAD,UACE,cAAC,EAAD,UACE,cAAC,IAAD,UACGrC,EAAO4B,KAAI,SAAAC,GAAI,OACd,cAAC,IAAD,CAAOS,OAAK,EAACpC,KAAM2B,EAAK3B,KAAxB,SACG2B,EAAK5B,MAD2B4B,EAAK3B,gBCJ9CqC,EAAO,kBACX,cAAC,IAAD,CAAUhF,MAAOA,EAAjB,SACE,cAAC,IAAMiF,WAAP,UACE,cAAC,EAAD,SAKNC,IAASC,OAAO,cAAC,EAAD,IAAUC,SAASC,eAAe,W","file":"static/js/main.851d2a27.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport const instance = axios.create({\n  baseURL: 'https://jsonplaceholder.typicode.com/',\n});\n\ntype Method = 'get' | 'post' | 'delete';\n\nconst makeRequest = (method:Method, url:string, params:{}) => {\n  return instance[method](`${url}`, params);\n};\n\nconst request = (method:Method, url:string) => {\n  return (params = {}) => makeRequest(method, url, params);\n};\n\nexport const postApi = {\n  removePost: (postId:number) => request('delete', `/posts/${postId}`)(),\n  getPosts: request('get', '/posts'),\n  addPost: (newPost: Post) => request('post', '/posts')(newPost),\n};\n","import { AxiosResponse } from 'axios';\nimport { AnyAction, Dispatch } from 'redux';\nimport { ThunkAction } from 'redux-thunk';\n\nimport { postApi } from '../../api';\n\nexport type RootState = {\n  posts: Post[],\n  post: Post | null;\n  selectedPostId: number,\n  userId: number,\n};\n\nconst initialState: RootState = {\n  posts: [],\n  post: null,\n  selectedPostId: 0,\n  userId: 0,\n};\n\nconst SET_POSTS = 'SET_POSTS';\nconst SET_POST = 'SET_POST';\n\nexport const setPosts = (posts: Post[]) => ({ type: SET_POSTS, posts });\nexport const setPost = (post: Post) => ({ type: SET_POST, post });\n\nexport const loadPosts = (\n) => (dispatch: Dispatch) => {\n  postApi.getPosts()\n    .then((response: AxiosResponse<{}>) => {\n      dispatch(setPosts(response.data as Post[]));\n    });\n};\n\nexport const addNewPost = (post: Post)\n: ThunkAction<void, RootState, unknown, AnyAction> => async dispatch => {\n  try {\n    await postApi.addPost(post);\n\n    dispatch(setPost(post));\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.log('-------e', e);\n  }\n};\n\nexport const postsReducer = (state = initialState, action: AnyAction) => {\n  switch (action.type) {\n    case SET_POSTS:\n      return {\n        ...state,\n        posts: action.posts,\n      };\n\n    case SET_POST:\n      return {\n        ...state,\n        post: action.post,\n      };\n\n    default:\n      return state;\n  }\n};\n","import { applyMiddleware, combineReducers, createStore } from 'redux';\nimport thunk from 'redux-thunk';\nimport { postsReducer } from './reducers/postsReducer';\n\nconst rootReducer = combineReducers({\n  posts: postsReducer,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\nexport const getPostsSelector = (state: RootState) => state.posts.posts;\nexport const getActiveUserId = (state: RootState) => state.posts.userId;\n\nexport const store = createStore(\n  rootReducer,\n  applyMiddleware(thunk),\n);\n","import React, { useEffect } from 'react';\nimport { DataGrid } from '@mui/x-data-grid';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getPostsSelector } from '../../redux/store';\nimport { loadPosts } from '../../redux/reducers/postsReducer';\n\nconst columns = [\n  { field: 'userId', headerName: 'UserID' },\n  { field: 'title', headerName: 'Title', width: 300 },\n  { field: 'body', headerName: 'Body', width: 600 },\n];\n\nexport const PostsList: React.FC = () => {\n  const posts: Post[] = useSelector(getPostsSelector);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(loadPosts());\n  }, [dispatch]);\n\n  return (\n    <div style={{ height: 840, width: '100%' }}>\n      <DataGrid\n        rows={posts}\n        columns={columns}\n        pageSize={14}\n      />\n    </div>\n  );\n};\n","import { connect } from 'react-redux';\nimport { CreatePost } from './CreatePost';\nimport { addNewPost } from '../../redux/reducers/postsReducer';\n\nexport default connect(null, { addNewPost })(CreatePost);\n","import React from 'react';\nimport { Formik } from 'formik';\nimport '../../scss/CreatePost.scss';\n\ntype Values = {\n  title?: string,\n  body?: string,\n};\n\nexport const CreatePost: React.FC = (props: any) => {\n  return (\n    <div className=\"create\">\n      <h1 className=\"create__title\">Create a post</h1>\n      <Formik\n        initialValues={{ title: '', body: '' }}\n        validate={values => {\n          const errors: Values = {};\n\n          if (!values.title) {\n            errors.title = 'Required';\n          }\n\n          return errors;\n        }}\n        onSubmit={(values, { setSubmitting }) => {\n          props.addNewPost(values);\n          setSubmitting(false);\n        }}\n      >\n        {({\n          values,\n          errors,\n          touched,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          isSubmitting,\n        }) => (\n          <form onSubmit={handleSubmit} className=\"create__form\">\n            <input\n              type=\"text\"\n              name=\"title\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n              value={values.title}\n              className=\"create__input\"\n            />\n            {errors.title && touched.title && errors.title}\n            <input\n              type=\"text\"\n              name=\"body\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n              value={values.body}\n              className=\"create__input\"\n            />\n            {errors.body && touched.body && errors.body}\n            <button\n              type=\"submit\"\n              disabled={isSubmitting}\n              className=\"create__button\"\n            >\n              Submit\n            </button>\n          </form>\n        )}\n      </Formik>\n    </div>\n  );\n};\n","import React from 'react';\nimport { PostsList } from './components/PostList';\nimport CreatePost from './pages/CreatePost';\n\nexport const routes = [\n  {\n    page: <PostsList />,\n    path: '/',\n  },\n  {\n    page: <CreatePost />,\n    path: '/create',\n  },\n];\n","import { makeStyles } from '@mui/styles';\nimport React from 'react';\nimport {\n  Drawer, Typography, List, ListItem, ListItemIcon, ListItemText,\n} from '@mui/material';\nimport { AddCircleOutlineOutlined, SubjectOutlined } from '@mui/icons-material';\nimport { useHistory } from 'react-router';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles({\n  page: {\n    background: '#f9f9f9',\n    width: '100%',\n  },\n  drawer: {\n    width: drawerWidth,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  root: {\n    display: 'flex',\n  },\n  active: {\n    background: '#f4f4f4',\n  },\n});\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nexport const Layout: React.FC<Props> = ({ children }) => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const menuItems = [\n    {\n      text: 'Posts',\n      icon: <SubjectOutlined color=\"secondary\" />,\n      path: '/',\n    },\n    {\n      text: 'Create Post',\n      icon: <AddCircleOutlineOutlined color=\"secondary\" />,\n      path: '/create',\n    },\n  ];\n\n  return (\n    <div className={classes.root}>\n\n      <Drawer\n        className={classes.drawer}\n        variant=\"permanent\"\n        anchor=\"left\"\n        classes={{ paper: classes.drawerPaper }}\n      >\n        <div>\n          <Typography variant=\"h5\">\n            Menu\n          </Typography>\n        </div>\n\n        <List>\n          {menuItems.map(item => (\n            <ListItem\n              button\n              key={item.text}\n              onClick={() => history.push(item.path)}\n            >\n              <ListItemIcon>{item.icon}</ListItemIcon>\n              <ListItemText primary={item.text} />\n            </ListItem>\n          ))}\n        </List>\n      </Drawer>\n\n      <div className={classes.page}>\n        {children}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { routes } from './routes';\nimport { Layout } from './pages/Layout';\n\nexport const App: React.FC = () => {\n  return (\n    <Router>\n      <Layout>\n        <Switch>\n          {routes.map(item => (\n            <Route exact path={item.path} key={item.path}>\n              {item.page}\n            </Route>\n          ))}\n        </Switch>\n      </Layout>\n    </Router>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './scss/index.scss';\nimport { App } from './App';\nimport { store } from './redux/store';\n\nconst Root = () => (\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}