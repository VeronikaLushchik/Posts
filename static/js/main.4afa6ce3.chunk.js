(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{194:function(t,e,n){},217:function(t,e,n){},221:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(49),s=n.n(r),o=n(53),i=(n(194),n(157)),u=n(19),d=n(150),l=n(98),j=n(141),b=n(56),p=n(116),h=n.n(p),m=n(142),f=n(143),O=n.n(f).a.create({baseURL:"https://jsonplaceholder.typicode.com/"}),x=function(t,e,n){return O[t]("".concat(e),n)},v=function(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return x(t,e,n)}},g={removePost:function(t){return v("delete","/posts/".concat(t))()},getPosts:v("get","/posts"),getPostComments:function(t){return v("get","/posts/".concat(t,"/comments"))()},addPost:function(t){return v("post","/posts")(t)}},y={posts:[],post:null,selectedPostId:0,comments:[],userId:0},w="SET_POSTS",P="SET_POST",S="SET_COMMENTS",N=function(t){return{type:P,post:t}},C=function(){return function(t){g.getPosts().then((function(e){var n;t((n=e.data,{type:w,posts:n}))}))}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case w:return Object(b.a)(Object(b.a)({},t),{},{posts:e.posts});case P:return Object(b.a)(Object(b.a)({},t),{},{post:e.post});case S:return Object(b.a)(Object(b.a)({},t),{},{comments:e.comments});default:return t}},k=Object(l.b)({comments:_,posts:_,post:_}),E=function(t){return t.posts.posts},T=function(t){return t.post.comments},B=Object(l.c)(k,Object(l.a)(j.a)),I=n(301),M=n(103),J=n(2),R=[{field:"userId",headerName:"UserID"},{field:"title",headerName:"Title",width:300},{field:"body",headerName:"Body",width:600}],U=Object(o.b)(null,{loadComments:function(t){return function(e){g.getPostComments(t).then((function(t){var n;e((n=t.data,{type:S,comments:n}))}))}}})((function(t){var e=Object(o.d)(E),n=Object(o.d)(T),a=0,r=Object(o.c)();return Object(c.useEffect)((function(){r(C())}),[r]),Object(c.useEffect)((function(){t.loadComments(a)}),[a]),Object(J.jsxs)("div",{style:{height:840,width:"100%"},children:[Object(J.jsxs)(I.a,{children:[n.length>0&&Object(J.jsx)(M.a,{variant:"h5",component:"div",children:"Comments:"}),n.map((function(t){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(M.a,{variant:"subtitle1",component:"div",children:t.name},t.name),Object(J.jsx)(M.a,{variant:"caption",component:"div",children:t.body},t.body)]})}))]}),Object(J.jsx)(d.a,{rows:e,columns:R,pageSize:14,onSelectionModelChange:function(e){a=e[0],t.loadComments(a)}})]})})),q=n(156),z=(n(217),Object(o.b)(null,{addNewPost:function(t){return function(){var e=Object(m.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.addPost(t);case 3:n(N(t)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("-------e",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}})((function(t){return Object(J.jsxs)("div",{className:"create",children:[Object(J.jsx)("h1",{className:"create__title",children:"Create a post"}),Object(J.jsx)(q.a,{initialValues:{title:"",body:""},validate:function(t){var e={};return t.title||(e.title="Required"),e},onSubmit:function(e,n){var c=n.setSubmitting;t.addNewPost(e),c(!1)},children:function(t){var e=t.values,n=t.errors,c=t.touched,a=t.handleChange,r=t.handleBlur,s=t.handleSubmit,o=t.isSubmitting;return Object(J.jsxs)("form",{onSubmit:s,className:"create__form",children:[Object(J.jsx)("input",{type:"text",name:"title",onChange:a,onBlur:r,value:e.title,className:"create__input"}),n.title&&c.title&&n.title,Object(J.jsx)("input",{type:"text",name:"body",onChange:a,onBlur:r,value:e.body,className:"create__input"}),n.body&&c.body&&n.body,Object(J.jsx)("button",{type:"submit",disabled:o,className:"create__button",children:"Submit"})]})}})]})}))),D=[{page:Object(J.jsx)(U,{}),path:"/"},{page:Object(J.jsx)(z,{}),path:"/create"}],F=n(44),L=n(300),V=n(304),A=n(298),G=n(163),H=n(295),K=n(293),Q=n(294),W=Object(F.a)({page:{background:"#f9f9f9",width:"100%"},drawer:{width:240},drawerPaper:{width:240},root:{display:"flex"},active:{background:"#f4f4f4"}}),X=function(t){var e=t.children,n=W(),c=Object(u.f)(),a=[{text:"Posts",icon:Object(J.jsx)(K.a,{color:"secondary"}),path:"/"},{text:"Create Post",icon:Object(J.jsx)(Q.a,{color:"secondary"}),path:"/create"}];return Object(J.jsxs)("div",{className:n.root,children:[Object(J.jsxs)(L.a,{className:n.drawer,variant:"permanent",anchor:"left",classes:{paper:n.drawerPaper},children:[Object(J.jsx)("div",{children:Object(J.jsx)(M.a,{variant:"h5",children:"Menu"})}),Object(J.jsx)(V.a,{children:a.map((function(t){return Object(J.jsxs)(A.a,{button:!0,onClick:function(){return c.push(t.path)},children:[Object(J.jsx)(G.a,{children:t.icon}),Object(J.jsx)(H.a,{primary:t.text})]},t.text)}))})]}),Object(J.jsx)("div",{className:n.page,children:e})]})},Y=function(){return Object(J.jsx)(i.a,{children:Object(J.jsx)(X,{children:Object(J.jsx)(u.c,{children:D.map((function(t){return Object(J.jsx)(u.a,{exact:!0,path:t.path,children:t.page},t.path)}))})})})},Z=function(){return Object(J.jsx)(o.a,{store:B,children:Object(J.jsx)(a.a.StrictMode,{children:Object(J.jsx)(Y,{})})})};s.a.render(Object(J.jsx)(Z,{}),document.getElementById("root"))}},[[221,1,2]]]);
//# sourceMappingURL=main.4afa6ce3.chunk.js.map