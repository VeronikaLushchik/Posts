{"version":3,"sources":["api/index.ts","redux/reducers/postsReducer.ts","redux/store.ts","components/PostList/PostsList.tsx","components/PostList/index.ts","pages/CreatePost/index.ts","pages/CreatePost/CreatePost.tsx","routes.tsx","pages/Layout/Layout.tsx","App.tsx","index.tsx"],"names":["instance","axios","create","baseURL","makeRequest","method","url","params","request","postApi","removePost","postId","getPosts","getPostComments","addPost","newPost","initialState","posts","post","selectedPostId","comments","userId","SET_POSTS","SET_POST","SET_COMMENTS","setPost","type","loadPosts","dispatch","then","response","data","postsReducer","state","action","rootReducer","combineReducers","getPostsSelector","getCommentsSelector","store","createStore","applyMiddleware","thunk","columns","field","headerName","width","connect","loadComments","props","useSelector","activePostId","useDispatch","useEffect","style","height","CardContent","length","Typography","variant","component","map","comment","name","body","rows","pageSize","onSelectionModelChange","e","addNewPost","a","console","log","className","initialValues","title","validate","values","errors","onSubmit","setSubmitting","touched","handleChange","handleBlur","handleSubmit","isSubmitting","onChange","onBlur","value","disabled","routes","page","path","useStyles","makeStyles","background","drawer","drawerPaper","root","display","active","Layout","children","classes","history","useHistory","menuItems","text","icon","SubjectOutlined","color","AddCircleOutlineOutlined","Drawer","anchor","paper","List","item","ListItem","button","onClick","push","ListItemIcon","ListItemText","primary","App","exact","Root","StrictMode","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4afa6ce3.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport const instance = axios.create({\n  baseURL: 'https://jsonplaceholder.typicode.com/',\n});\n\ntype Method = 'get' | 'post' | 'delete';\n\nconst makeRequest = (method:Method, url:string, params:{}) => {\n  return instance[method](`${url}`, params);\n};\n\nconst request = (method:Method, url:string) => {\n  return (params = {}) => makeRequest(method, url, params);\n};\n\nexport const postApi = {\n  removePost: (postId:number) => request('delete', `/posts/${postId}`)(),\n  getPosts: request('get', '/posts'),\n  getPostComments: (postId:number) => request('get', `/posts/${postId}/comments`)(),\n  addPost: (newPost: Post) => request('post', '/posts')(newPost),\n};\n","import { AxiosResponse } from 'axios';\nimport { AnyAction, Dispatch } from 'redux';\nimport { ThunkAction } from 'redux-thunk';\n\nimport { postApi } from '../../api';\n\nexport type RootState = {\n  posts: Post[],\n  post: Post | null;\n  selectedPostId: number,\n  comments: Comment[],\n  userId: number,\n};\n\nconst initialState: RootState = {\n  posts: [],\n  post: null,\n  selectedPostId: 0,\n  comments: [],\n  userId: 0,\n};\n\nconst SET_POSTS = 'SET_POSTS';\nconst SET_POST = 'SET_POST';\nconst SET_COMMENTS = 'SET_COMMENTS';\n\nexport const setPosts = (posts: Post[]) => ({ type: SET_POSTS, posts });\nexport const setPost = (post: Post) => ({ type: SET_POST, post });\nexport const setComments = (comments: Comment[]) => ({ type: SET_COMMENTS, comments });\n\nexport const loadPosts = (\n) => (dispatch: Dispatch) => {\n  postApi.getPosts()\n    .then((response: AxiosResponse<{}>) => {\n      dispatch(setPosts(response.data as Post[]));\n    });\n};\n\nexport const loadComments = (postId:number) => (dispatch: Dispatch) => {\n  postApi.getPostComments(postId)\n    .then((response: AxiosResponse<{}>) => {\n      dispatch(setComments(response.data as Comment[]));\n    });\n};\n\nexport const addNewPost = (post: Post)\n: ThunkAction<void, RootState, unknown, AnyAction> => async dispatch => {\n  try {\n    await postApi.addPost(post);\n    dispatch(setPost(post));\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.log('-------e', e);\n  }\n};\n\nexport const postsReducer = (state = initialState, action: AnyAction) => {\n  switch (action.type) {\n    case SET_POSTS:\n      return {\n        ...state,\n        posts: action.posts,\n      };\n\n    case SET_POST:\n      return {\n        ...state,\n        post: action.post,\n      };\n\n    case SET_COMMENTS:\n      return {\n        ...state,\n        comments: action.comments,\n      };\n\n    default:\n      return state;\n  }\n};\n","import { applyMiddleware, combineReducers, createStore } from 'redux';\nimport thunk from 'redux-thunk';\nimport { postsReducer } from './reducers/postsReducer';\n\nconst rootReducer = combineReducers({\n  comments: postsReducer,\n  posts: postsReducer,\n  post: postsReducer,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\nexport const getPostsSelector = (state: RootState) => state.posts.posts;\nexport const getPost = (state: RootState) => state.post.post;\nexport const getCommentsSelector = (state: RootState) => state.post.comments;\n\nexport const store = createStore(\n  rootReducer,\n  applyMiddleware(thunk),\n);\n","/* eslint-disable */\nimport React, { useEffect } from 'react';\nimport { DataGrid } from '@mui/x-data-grid';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getCommentsSelector, getPostsSelector, store } from '../../redux/store';\nimport { loadPosts } from '../../redux/reducers/postsReducer';\nimport CardContent from '@mui/material/CardContent';\nimport Typography from '@mui/material/Typography';\n\nconst columns = [\n  { field: 'userId', headerName: 'UserID' },\n  { field: 'title', headerName: 'Title', width: 300 },\n  { field: 'body', headerName: 'Body', width: 600 },\n];\n\nexport const PostsList: React.FC = (props:any) => {\n  const posts: Post[] = useSelector(getPostsSelector);\n  const comments: Comment[] = useSelector(getCommentsSelector);\n  let activePostId: number = 0;\n  const dispatch = useDispatch();\n  \n  const onRowSelected = (e:any) => {\n    activePostId = e[0]\n    props.loadComments(activePostId)\n  }\n\n  useEffect(() => {\n    dispatch(loadPosts());\n  }, [dispatch]);\n\n  useEffect(() => {\n    props.loadComments(activePostId)\n  }, [activePostId]);\n\n  return (\n    <div style={{ height: 840, width: '100%' }}>\n      <CardContent>\n        {comments.length > 0 && \n        <Typography variant=\"h5\" component=\"div\">\n          Comments:\n        </Typography>\n        }\n        {comments.map((comment:Comment) => \n        <>\n        <Typography variant=\"subtitle1\" component=\"div\" key={comment.name}>\n          {comment.name}\n        </Typography>\n        <Typography variant=\"caption\" component=\"div\" key={comment.body}>\n          {comment.body}\n        </Typography>\n        </>)}\n      </CardContent>\n      <DataGrid\n        rows={posts}\n        columns={columns}\n        pageSize={14}\n        onSelectionModelChange = {onRowSelected}\n      />\n    </div>\n  );\n};\n","import { connect } from 'react-redux';\nimport { PostsList } from './PostsList';\nimport { loadComments } from '../../redux/reducers/postsReducer';\n\nexport default connect(null, { loadComments })(PostsList);\n","import { connect } from 'react-redux';\nimport { CreatePost } from './CreatePost';\nimport { addNewPost } from '../../redux/reducers/postsReducer';\n\nexport default connect(null, { addNewPost })(CreatePost);\n","import React from 'react';\nimport { Formik } from 'formik';\nimport '../../scss/CreatePost.scss';\n\ntype Values = {\n  title?: string,\n  body?: string,\n};\n\nexport const CreatePost: React.FC = (props: any) => {\n  return (\n    <div className=\"create\">\n      <h1 className=\"create__title\">Create a post</h1>\n      <Formik\n        initialValues={{ title: '', body: '' }}\n        validate={values => {\n          const errors: Values = {};\n\n          if (!values.title) {\n            errors.title = 'Required';\n          }\n\n          return errors;\n        }}\n        onSubmit={(values, { setSubmitting }) => {\n          props.addNewPost(values);\n          setSubmitting(false);\n        }}\n      >\n        {({\n          values,\n          errors,\n          touched,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n          isSubmitting,\n        }) => (\n          <form onSubmit={handleSubmit} className=\"create__form\">\n            <input\n              type=\"text\"\n              name=\"title\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n              value={values.title}\n              className=\"create__input\"\n            />\n            {errors.title && touched.title && errors.title}\n            <input\n              type=\"text\"\n              name=\"body\"\n              onChange={handleChange}\n              onBlur={handleBlur}\n              value={values.body}\n              className=\"create__input\"\n            />\n            {errors.body && touched.body && errors.body}\n            <button\n              type=\"submit\"\n              disabled={isSubmitting}\n              className=\"create__button\"\n            >\n              Submit\n            </button>\n          </form>\n        )}\n      </Formik>\n    </div>\n  );\n};\n","import React from 'react';\nimport PostsList from './components/PostList';\nimport CreatePost from './pages/CreatePost';\n\nexport const routes = [\n  {\n    page: <PostsList />,\n    path: '/',\n  },\n  {\n    page: <CreatePost />,\n    path: '/create',\n  },\n];\n","import { makeStyles } from '@mui/styles';\nimport React from 'react';\nimport {\n  Drawer, Typography, List, ListItem, ListItemIcon, ListItemText,\n} from '@mui/material';\nimport { AddCircleOutlineOutlined, SubjectOutlined } from '@mui/icons-material';\nimport { useHistory } from 'react-router';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles({\n  page: {\n    background: '#f9f9f9',\n    width: '100%',\n  },\n  drawer: {\n    width: drawerWidth,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  root: {\n    display: 'flex',\n  },\n  active: {\n    background: '#f4f4f4',\n  },\n});\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nexport const Layout: React.FC<Props> = ({ children }) => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const menuItems = [\n    {\n      text: 'Posts',\n      icon: <SubjectOutlined color=\"secondary\" />,\n      path: '/',\n    },\n    {\n      text: 'Create Post',\n      icon: <AddCircleOutlineOutlined color=\"secondary\" />,\n      path: '/create',\n    },\n  ];\n\n  return (\n    <div className={classes.root}>\n\n      <Drawer\n        className={classes.drawer}\n        variant=\"permanent\"\n        anchor=\"left\"\n        classes={{ paper: classes.drawerPaper }}\n      >\n        <div>\n          <Typography variant=\"h5\">\n            Menu\n          </Typography>\n        </div>\n\n        <List>\n          {menuItems.map(item => (\n            <ListItem\n              button\n              key={item.text}\n              onClick={() => history.push(item.path)}\n            >\n              <ListItemIcon>{item.icon}</ListItemIcon>\n              <ListItemText primary={item.text} />\n            </ListItem>\n          ))}\n        </List>\n      </Drawer>\n\n      <div className={classes.page}>\n        {children}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { routes } from './routes';\nimport { Layout } from './pages/Layout';\n\nexport const App: React.FC = () => {\n  return (\n    <Router>\n      <Layout>\n        <Switch>\n          {routes.map(item => (\n            <Route exact path={item.path} key={item.path}>\n              {item.page}\n            </Route>\n          ))}\n        </Switch>\n      </Layout>\n    </Router>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './scss/index.scss';\nimport { App } from './App';\nimport { store } from './redux/store';\n\nconst Root = () => (\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}